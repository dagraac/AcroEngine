#include "AObject.h"
#include "AType.h"
#include "AVariable.h"


/////////////////////////////////////////////////////////////////////////////
// @ 생성.
/////////////////////////////////////////////////////////////////////////////
AcroEngine::IObject::IObject()
{
    m_ID = 0;
    m_ReferenceCount = 0;
}

/////////////////////////////////////////////////////////////////////////////
// @ 소멸.
/////////////////////////////////////////////////////////////////////////////
AcroEngine::IObject::~IObject()
{

}

/////////////////////////////////////////////////////////////////////////////
// @ 레퍼런스 카운트 증가.
/////////////////////////////////////////////////////////////////////////////
XPlatform::VOID AcroEngine::IObject::IncreaseReference(AObject Object)
{
    if (Object != nullptr && !Object->m_IsDestroyed)
    {
        ++Object->m_ReferenceCount;
    }
}

/////////////////////////////////////////////////////////////////////////////
// @ 레퍼런스 카운트 감소.
/////////////////////////////////////////////////////////////////////////////
XPlatform::VOID AcroEngine::IObject::DecreaseReference(AObject Object)
{
    if (Object != nullptr && !Object->m_IsDestroyed)
    {
        --Object->m_ReferenceCount;

        if (Object->m_ReferenceCount <= 0)
        {
            Object->m_IsDestroyed = true;
        }
    }
}

/////////////////////////////////////////////////////////////////////////////
// @
/////////////////////////////////////////////////////////////////////////////
AcroEngine::AString AcroEngine::IObject::ToString()
{
    return AString();
}

/////////////////////////////////////////////////////////////////////////////
// @
/////////////////////////////////////////////////////////////////////////////
XPlatform::BOOL8 AcroEngine::IObject::Equals(AObject Object)
{
    if (Object == nullptr)
        return false;

    return m_ID == Object->m_ID;
}

/////////////////////////////////////////////////////////////////////////////
// @
/////////////////////////////////////////////////////////////////////////////
XPlatform::INT32 AcroEngine::IObject::GetHashCode()
{
    return m_ID;
}

///////////////////////////////////////////////////////////////////////////////
//// @
///////////////////////////////////////////////////////////////////////////////
//AcroEngine::AType* AcroEngine::IObject::GetType()
//{
//    //AClassGenerated::GetTypeName();
//    return nullptr;
//}